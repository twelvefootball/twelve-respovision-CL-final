Working with tracking data - Course materials

Requires tracking data (Respovis) + event data (wyscout)

## visualise_xg_chain_runs.py

Reads in events and runs during xG chains from following files
 
18768058_stories.parquet18768058_runs.parquet

and plots them.

## visualise_single_frame.py

Reads in 

18768058_tracks.parquet

and plots single frames from that data.

## visualise_single_frame.py

Requires .json of full match tracking data (not available in Github, only to course participants).

Calculates general statistics.


# Tracking data frame example
{'frame_id': '2116',
 'time': '01:22.680000',
 'period': 'half_1',
 'ball': {'x': 99.64518452241148,
  'y': 27.398075549655964,
  'z': 0.0,
  'x_velocity': 0.050782874170295145,
  'y_velocity': 0.44604404857985,
  'z_velocity': 0.0,
  'x_acceleration': -0.02106795001850514,
  'y_acceleration': -0.1850472993897512,
  'z_acceleration': 0.0,
  'speed': 0.4489255991614865,
  'acceleration': 0.18624274893112605},
 'players': [{'person_id': 1,
   'person_name': 'Rúben Dias',
   'team_name': 'Manchester City',
   'jersey_number': 3,
   'category_name': 'player',
   'x': 99.8786067647919,
   'y': 26.78130097219569,
   'x_velocity': 0.06470454340546476,
   'y_velocity': -0.6492466848967279,
   'x_acceleration': 0.34265103958389015,
   'y_acceleration': -0.7619354664050066,
   'speed': 0.6524629765639586,
   'acceleration': 0.8354372447369913,
   'head_angle': -2.643290579668431,
   'shoulders_angle': -2.645329748695393,
   'hips_angle': -2.65100488124305},
  {'person_id': 2,
   'person_name': 'John Stones',
   'team_name': 'Manchester City',
   'jersey_number': 5,
   'category_name': 'player',
   'x': 65.74610189313805,
   'y': 16.67330251689208,
   'x_velocity': -0.06463493473830184,
   'y_velocity': 0.03386072165341235,
   'x_acceleration': 0.3536826669469459,
   'y_acceleration': 0.2766143766228728,
   'speed': 0.07296727526442526,
   'acceleration': 0.44900661715966367,
   'head_angle': -1.973955829325331,
   'shoulders_angle': -1.8745570048929456,
   'hips_angle': -1.586131656752183},
  {'person_id': 3,
   'person_name': 'Nathan Aké',
   'team_name': 'Manchester City',
   'jersey_number': 6,
   'category_name': 'player',
   'x': 91.02422840526498,
   'y': 63.28558357932013,
   'x_velocity': 0.2803170572922069,
   'y_velocity': 0.10045734304383772,
   'x_acceleration': 0.05682191744226959,
   'y_acceleration': -0.27760844427274484,
   'speed': 0.2977739585329612,
   'acceleration': 0.28336403906168084,
   'head_angle': 1.3547293733967107,
   'shoulders_angle': 1.4374931603964771,
   'hips_angle': 1.4156764432553903},
  {'person_id': 4,
   'person_name': 'İlkay Gündoğan',
   'team_name': 'Manchester City',
   'jersey_number': 8,
   'category_name': 'player',
   'x': 64.04286042764302,
   'y': 33.12746340453763,
   'x_velocity': -0.03974240335768129,
   'y_velocity': 0.3190436360792233,
   'x_acceleration': 0.13770204871322417,
   'y_acceleration': -0.09800840776027489,
   'speed': 0.3215094094226427,
   'acceleration': 0.1690192362174302,
   'head_angle': -1.9078598641825195,
   'shoulders_angle': -1.5027314960620164,
   'hips_angle': -1.3017992252424977},
  {'person_id': 7,
   'person_name': 'Rodri',
   'team_name': 'Manchester City',
   'jersey_number': 16,
   'category_name': 'player',
   'x': 83.23374458206608,
   'y': 37.643134092040036,
   'x_velocity': 0.28402922273207387,
   'y_velocity': -0.02817355149547695,
   'x_acceleration': 0.49005190431586126,
   'y_acceleration': -0.3548435464892343,
   'speed': 0.28542310412728383,
   'acceleration': 0.6050329010960143,
   'head_angle': 1.0572373894628078,
   'shoulders_angle': 1.1167028948583728,
   'hips_angle': 1.2127761468488654},
  {'person_id': 8,
   'person_name': 'Kevin De Bruyne',
   'team_name': 'Manchester City',
   'jersey_number': 17,
   'category_name': 'player',
   'x': 68.06077565895072,
   'y': 55.9419865837571,
   'x_velocity': -0.02442104428425073,
   'y_velocity': 0.649799791290102,
   'x_acceleration': -0.0427023361000872,
   'y_acceleration': 0.02506042279103644,
   'speed': 0.6502585302513098,
   'acceleration': 0.04951276904870409,
   'head_angle': 0.908021928644666,
   'shoulders_angle': 0.9969168481859254,
   'hips_angle': 1.1681902010590408},
  {'person_id': 10,
   'person_name': 'Manuel Akanji',
   'team_name': 'Manchester City',
   'jersey_number': 25,
   'category_name': 'player',
   'x': 93.52745762492692,
   'y': 7.403387177529071,
   'x_velocity': -0.13190156483078327,
   'y_velocity': 0.16967068730493248,
   'x_acceleration': 0.009481526008644891,
   'y_acceleration': 0.1615956725015924,
   'speed': 0.21490966691923727,
   'acceleration': 0.16187359484083413,
   'head_angle': -1.9247717571402765,
   'shoulders_angle': -1.9602721629768596,
   'hips_angle': -1.906861043888581},
  {'person_id': 11,
   'person_name': 'Ederson',
   'team_name': 'Manchester City',
   'jersey_number': 31,
   'category_name': 'goalkeeper',
   'x': 101.99418311829477,
   'y': 33.6892326565215,
   'x_velocity': -0.4722308754518125,
   'y_velocity': -0.2494802393557783,
   'x_acceleration': -0.4261206343547717,
   'y_acceleration': -0.4581135921077489,
   'speed': 0.5340808829746687,
   'acceleration': 0.6256571411698088,
   'head_angle': 2.7338098193033136,
   'shoulders_angle': 2.801944502466132,
   'hips_angle': 2.760364401973456},
  {'person_id': 15,
   'person_name': 'Edin Džeko',
   'team_name': 'Inter',
   'jersey_number': 9,
   'category_name': 'player',
   'x': 88.8450832084622,
   'y': 39.921376645654014,
   'x_velocity': 1.9153764786036072,
   'y_velocity': -0.09327332000443009,
   'x_acceleration': 1.9109746797691431,
   'y_acceleration': -1.0788573486154631,
   'speed': 1.9176462048596459,
   'acceleration': 2.1944834028491456,
   'head_angle': 0.6701636328310482,
   'shoulders_angle': 0.6308933752617836,
   'hips_angle': 0.6937691144644913},
  {'person_id': 16,
   'person_name': 'Lautaro Martínez',
   'team_name': 'Inter',
   'jersey_number': 10,
   'category_name': 'player',
   'x': 84.66680003980743,
   'y': 17.99075000435679,
   'x_velocity': -0.02734966030509422,
   'y_velocity': 0.5661488463889033,
   'x_acceleration': 0.7123475500521919,
   'y_acceleration': 0.468911677309119,
   'speed': 0.5668090685462699,
   'acceleration': 0.8528289354742904,
   'head_angle': 0.6668978589121292,
   'shoulders_angle': 0.8151742860889644,
   'hips_angle': 0.9672184455859052},
  {'person_id': 19,
   'person_name': 'Hakan Çalhanoğlu',
   'team_name': 'Inter',
   'jersey_number': 20,
   'category_name': 'player',
   'x': 81.1181894740514,
   'y': 33.42985719378928,
   'x_velocity': 0.3492256499630349,
   'y_velocity': 0.6461446490092546,
   'x_acceleration': 0.6835872636869176,
   'y_acceleration': 0.2644681165134996,
   'speed': 0.7344804027578932,
   'acceleration': 0.7329631175762976,
   'head_angle': 0.1335018723869832,
   'shoulders_angle': 0.041226484810296,
   'hips_angle': 0.1317531398619579},
  {'person_id': 21,
   'person_name': 'Nicolò Barella',
   'team_name': 'Inter',
   'jersey_number': 23,
   'category_name': 'player',
   'x': 70.58629440048259,
   'y': 46.74193816801452,
   'x_velocity': 0.9194527050101089,
   'y_velocity': 1.0077571022391383,
   'x_acceleration': 1.0186187592756308,
   'y_acceleration': 0.3936529100159489,
   'speed': 1.364172882688932,
   'acceleration': 1.0920379069941895,
   'head_angle': 0.1021491602602016,
   'shoulders_angle': -0.018916495028082,
   'hips_angle': 0.0676134002788843},
  {'person_id': 26,
   'person_name': 'Marcelo Brozović',
   'team_name': 'Inter',
   'jersey_number': 77,
   'category_name': 'player',
   'x': 59.85137134112951,
   'y': 32.7993887140157,
   'x_velocity': 0.33611839996873394,
   'y_velocity': 0.8360598743254005,
   'x_acceleration': 0.5066128155578167,
   'y_acceleration': 0.17920375004237793,
   'speed': 0.9010947188029382,
   'acceleration': 0.5373737329984315,
   'head_angle': -0.8517697346986687,
   'shoulders_angle': -0.8846093715436297,
   'hips_angle': -0.7253397176882439},
  {'person_id': 28,
   'person_name': 'Alessandro Bastoni',
   'team_name': 'Inter',
   'jersey_number': 95,
   'category_name': 'player',
   'x': 58.148736071844645,
   'y': 19.67230860008717,
   'x_velocity': 0.0764316340444349,
   'y_velocity': 0.2005319077740393,
   'x_acceleration': -0.08039926632657135,
   'y_acceleration': 0.35441311940681514,
   'speed': 0.21460391589670078,
   'acceleration': 0.36341808049892116,
   'head_angle': -0.9617957424749368,
   'shoulders_angle': -0.5317859773219394,
   'hips_angle': -0.3764604948028088}]}
